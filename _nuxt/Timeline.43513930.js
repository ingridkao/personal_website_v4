import{_ as w}from"./Tags.c148fa80.js";import{m as x,u,o,a as c,F as f,b as A,J as C,t as _,C as i,f as h,Q as T,D as k,a0 as v,Z as b,w as q,c as F,h as N}from"./entry.66795c36.js";const $={key:0,class:"mt-4"},B=["onClick"],S={__name:"TagFilter",props:{query:{type:String,default:()=>""},allArticles:{type:Array,default:()=>[]},selectTag:{type:Array,default:()=>[]}},emits:["updateArticle","updateFilter"],setup(p,{emit:l}){const r=p,d=x(()=>{if(!Array.isArray(r.allArticles))return[];const e=[];return r.allArticles.map(s=>{Array.isArray(s.tags)&&e.push(...s.tags)}),[...new Set(e)]}),a=e=>{l("updateFilter",[])},y=async e=>{let s=[...r.selectTag];r.selectTag.findIndex(t=>t===e)<0?s.push(e):s=r.selectTag.filter(t=>t!=e);const g=await T(r.query).where({tags:{$contains:s}}).find();l("updateFilter",s),l("updateArticle",await g)},m=e=>{if(r.selectTag.length!==0)return r.selectTag.includes(e)?"bg-teal-100 dark:bg-teal-900":""};return(e,s)=>u(d).length>0?(o(),c("header",$,[(o(!0),c(f,null,A(u(d),n=>(o(),c("button",{key:n,class:C(["rounded-full px-2 m-1 border-2 border-teal-500 hover:bg-teal-200 dark:hover:bg-teal-800 focus:outline-none",m(n)]),onClick:g=>y(n)},_(n),11,B))),128)),i("button",{class:"rounded-full px-2 m-1 border-2 text-gray bg-teal-500 dark:bg-teal-900 hover:bg-teal-400 dark:hover:bg-teal-800 focus:outline-none",onClick:a},"Clear")])):h("",!0)}},V={class:"timeline relative max-w-2xl p-0 border-l border-gray-200 dark:border-gray-700"},D=["path","image"],L=i("div",{class:"absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"},null,-1),U={class:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},z={class:"text-lg m-0 font-semibold text-gray-900 dark:text-white"},E={class:"text-base mb-2 font-normal text-gray-500 dark:text-gray-400"},Q={__name:"Timeline",props:{queryContent:{type:String,default:()=>""}},async setup(p){let l,r;const d=p,a=k({allArticles:([l,r]=v(()=>T(d.queryContent).find()),l=await l,r(),l),filterArticles:[],selectTag:[],showNavs:x(()=>a.selectTag.length===0?a.allArticles?a.allArticles:[]:a.filterArticles?a.filterArticles:[])}),y=e=>{a.filterArticles=e},m=e=>{a.selectTag=e};return(e,s)=>{const n=w,g=N;return o(),c("main",null,[b(S,{query:d.queryContent,allArticles:u(a).allArticles,selectTag:u(a).selectTag,onUpdateArticle:y,onUpdateFilter:m},null,8,["query","allArticles","selectTag"]),i("ol",V,[(o(!0),c(f,null,A(u(a).showNavs,t=>(o(),c(f,{key:t.id},[t&&t._dir?(o(),c("li",{key:0,path:t._path,image:t.image,class:"mb-2 ml-2"},[L,i("time",U,_(t.modified),1),b(g,{to:t._path,class:"block p-2 rounded hover:bg-gray-200"},{default:q(()=>[i("h3",z,_(t.title),1),i("p",E,_(t.description),1),t.tags?(o(),F(n,{key:0,tags:t.tags},null,8,["tags"])):h("",!0)]),_:2},1032,["to"])],8,D)):h("",!0)],64))),128))])])}}};export{Q as _};
